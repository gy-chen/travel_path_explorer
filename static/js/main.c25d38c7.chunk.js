(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,n,t){e.exports=t.p+"static/media/hero_background.a3f2cd54.jpg"},112:function(e,n,t){e.exports=t(209)},186:function(e,n,t){},209:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"ROUTE_FETCH",function(){return h}),t.d(r,"ROUTE_REQUEST",function(){return m}),t.d(r,"ROUTE_RECEIVE",function(){return g}),t.d(r,"ERROR_RECEIVE",function(){return b}),t.d(r,"fetchRoute",function(){return v}),t.d(r,"requestRoute",function(){return O}),t.d(r,"receiveRoute",function(){return j}),t.d(r,"receiveError",function(){return E});var a={};t.r(a),t.d(a,"FETCH_GEOLOCATION",function(){return k}),t.d(a,"SET_CURRENT_GEOLOCATION",function(){return y}),t.d(a,"setCurrentGeolocation",function(){return x}),t.d(a,"fetchCurrentGeolocation",function(){return S});var o={};t.r(o),t.d(o,"findRoute",function(){return z}),t.d(o,"STATUS_CODE",function(){return U}),t.d(o,"formatLocation",function(){return A});var i={};t.r(i),t.d(i,"getGeolocation",function(){return I});var c=t(0),u=t.n(c),l=t(28),s=t(99),d=t.n(s),p=t(23),f=t(214),h="FETCH_ROUTE",m="REQUEST_ROUTE",g="RECEIVE_ROUTE",b="RECEIVE_ERROR",v=function(e,n){return{type:h,origin:e,destination:n}},O=function(){return{type:m}},j=function(e){return{type:g,route:e}},E=function(e){return{type:b,error:e}},_=Object(p.c)({currentError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return null;case b:return n.error;default:return e}},currentRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return null;case g:return n.route;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case m:return!0;case g:case b:return!1;default:return e}}}),k="FETCH_GEOLOCATION",y="SET_CURRENT_GEOLOCATION",x=function(e){return{type:y,geolocation:e}},S=function(){return{type:k}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case y:return{lat:n.geolocation.lat,lng:n.geolocation.lng};default:return e}},R=Object(p.c)({route:_,currentGeolocation:w}),P=t(215),C=t(210),L=t(8),B=t(211),D=t(100),T=Object(D.create)({baseURL:"https://travel-path-explorer.gyhost.icu"}),z=function(e,n){return e=A(e),n=A(n),T.get("/explore",{origin:e,destination:n})},U={OK:"OK",UNAVAILABLE:"UNAVAILABLE",NOT_FOUND:"NOT_FOUND"},A=function(e){return"object"===typeof e?"".concat(e.lat,",").concat(e.lng):e},I=function(){return T.get("/geolocation")},N=Object(P.a)(function(e){return e.pipe(Object(C.a)(r.ROUTE_FETCH),Object(B.a)(function(e){return L.a.create(function(n){n.next(r.requestRoute()),o.findRoute(e.origin,e.destination).then(function(e){return e.ok?e.data.status!==o.STATUS_CODE.OK?(n.next(r.receiveError(e.data.status)),void n.complete()):void(e.data.route&&(n.next(r.receiveRoute(e.data.route)),n.complete())):(n.next(r.receiveError(o.STATUS_CODE.UNAVAILABLE)),void n.complete())})})}))}),M=Object(P.a)(function(e){return e.pipe(Object(C.a)(a.FETCH_GEOLOCATION),Object(B.a)(function(){return L.a.create(function(e){i.getGeolocation().then(function(n){if(n.ok){var t={lat:n.data.lat,lng:n.data.lng};e.next(a.setCurrentGeolocation(t)),e.complete()}})})}))}),F=Object(P.a)(N,M),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=Object(f.a)(),t=e?Object(p.d)(Object(p.a)(n),e):Object(p.a)(n),r=Object(p.e)(R,t);return n.run(F),r}(),V=(t(186),t(11)),W=t(12),H=t(14),Q=t(13),q=t(15),J=t(216),K=t(218),Z=t(213),X=t(217),Y=t(37),$=t.n(Y),ee=t(19),ne=t.n(ee),te=t(101),re=t(20),ae=t(73),oe=$.a.mark(le),ie={en:"\nhello = Hello\nloading = loading...\nstart_explore =  explore\nselect_origin = Select Origin\nplease_select_origin = Please select origin.\nnext = Next\nselect_destination = Select Destination\nplease_select_destination = Please select destination.\ndone = Done\noverview = Overview\nsteps = Steps\nparkings = Parkings\nprint = Print\n",zh:"\nhello = \u4f60\u597d\nloading = \u8f09\u5165\u4e2d...\nstart_explore = \u958b\u59cb\u63a2\u7d22\nselect_origin = \u51fa\u767c\u5730\nplease_select_origin = \u8acb\u9078\u64c7\u51fa\u767c\u5730\nnext = \u4e0b\u4e00\u6b65\nselect_destination = \u76ee\u7684\u5730\nplease_select_destination = \u8acb\u9078\u64c7\u76ee\u7684\u5730\ndone = \u5b8c\u6210\noverview = \u8def\u7dda\u5716\nsteps = \u8def\u7dda\u8a73\u7d30\u8cc7\u8a0a\nparkings = \u505c\u8eca\u5834\nprint = \u5217\u5370\n"},ce=["en","zh"],ue=function(e){return Object(ae.negotiateLanguages)(e,ce,{defaultLocale:"en"})};function le(e){var n,t,r,a,o,i,c,u;return $.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n=ue(e),t=!0,r=!1,a=void 0,l.prev=4,o=n[Symbol.iterator]();case 6:if(t=(i=o.next()).done){l.next=15;break}return c=i.value,(u=new te.FluentBundle(c)).addMessages(ie[c]),l.next=12,u;case 12:t=!0,l.next=6;break;case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(4),r=!0,a=l.t0;case 21:l.prev=21,l.prev=22,t||null==o.return||o.return();case 24:if(l.prev=24,!r){l.next=27;break}throw a;case 27:return l.finish(24);case 28:return l.finish(21);case 29:case"end":return l.stop()}},oe,this,[[4,17,21,29],[22,,24,28]])}var se=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e))).state={bundles:t._generateBundles()},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidUpdate",value:function(e){e.locale!==this.props.locale&&this.setState({bundles:this._generateBundles()})}},{key:"_generateBundles",value:function(){return le([this.props.locale])}},{key:"render",value:function(){var e=this.props.children,n=this.state.bundles;return u.a.createElement(re.LocalizationProvider,{bundles:n},e)}}]),n}(c.Component),de=function(){var e=ue(navigator.languages)[0];return u.a.createElement(X.a,{to:"/".concat(e)})},pe=t(110),fe=t(9),he=t(3),me=t(2),ge=t(104),be=t(1),ve=t.n(be);function Oe(){var e=Object(he.a)(["\n  padding: 0.375rem 0.75rem;\n  background-color: transparent;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 500;\n"]);return Oe=function(){return e},e}var je=me.a.button(Oe());function Ee(){var e=Object(he.a)(["\n    background-color: white;\n    display: ",";\n    \n    &:after {\n        content: '","'\n    }\n"]);return Ee=function(){return e},e}var _e=Object(re.withLocalization)(Object(me.a)(je).attrs({onClick:function(){return window.print}})(Ee(),function(e){return e.show?"block":"none"},function(e){return e.getString("print",null,"Print")}));_e.defaultProps={show:!0},_e.propTypes={show:ve.a.bool};var ke=_e;function ye(){var e=Object(he.a)(["\n  text-decoration: none;\n  color: rgba(0, 0, 0, 0.5);\n\n  &:hover {\n    color: rgba(0, 0, 0, 0.7);\n  }\n"]);return ye=function(){return e},e}function xe(){var e=Object(he.a)(["\n  padding: 0 0.5rem;\n  color: rgba(0, 0, 0, 0.5);\n"]);return xe=function(){return e},e}function Se(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n\n  display: flex;\n  align-items: center;\n"]);return Se=function(){return e},e}function we(){var e=Object(he.a)(["\n  padding: 0 0.5rem;\n  margin: 0;\n  font-weight: 600;\n  font-size: 1.25rem;\n"]);return we=function(){return e},e}function Re(){var e=Object(he.a)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: #f8f9fa;\n  padding: 1rem 0.5rem;\n\n  flex-shrink: 0;\n  flex-grow: 0;\n\n  @media print {\n    display: none;\n  }\n"]);return Re=function(){return e},e}var Pe=me.a.div(Re()),Ce=me.a.h5(we()),Le=me.a.ol(Se()),Be=me.a.li(xe()),De=me.a.a(ye()),Te=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderPrintButton=t._renderPrintButton.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderPrintButton",value:function(){return this.props.displayPrintButton?u.a.createElement(Be,null,u.a.createElement(ke,null)):null}},{key:"render",value:function(){return u.a.createElement(Pe,null,u.a.createElement(Ce,null,"TravelPathExplorer"),u.a.createElement(Le,null,this._renderPrintButton(),u.a.createElement(Be,null,u.a.createElement(De,{href:"https:///www.github.com/gy-chen/travel_path_explorer"},u.a.createElement(ge.a,{size:24})))))}}]),n}(c.Component),ze=Object(l.b)(function(e){return{displayPrintButton:!!e.route.currentRoute}})(Te),Ue=t(109),Ae=t(39),Ie=t(75),Ne=t(111),Me=t(105),Fe=t.n(Me),Ge=u.a.createContext();function Ve(){var e=Object(he.a)(["\n  display: ",";\n"]);return Ve=function(){return e},e}function We(){var e=Object(he.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);return We=function(){return e},e}function He(){var e=Object(he.a)(['\n  position: relative;\n  width: 100%;\n\n  &::before {\n    display: block;\n    content: "";\n    padding-top: 56.25%;\n  }\n']);return He=function(){return e},e}var Qe,qe=me.a.div(He()),Je=me.a.div(We()),Ke=me.a.input(Ve(),function(e){return e.enableSearchBox?"inline-block":"none"}),Ze=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._searchBoxRef=u.a.createRef(),t._mapRef=u.a.createRef(),t.searchBox=null,t.map=null,t.google=null,t._initSearchBox=t._initSearchBox.bind(Object(fe.a)(Object(fe.a)(t))),t._onSearchBoxPlacesChanged=t._onSearchBoxPlacesChanged.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.apiKey,r=(n.onLoaded,Object(Ne.a)(n,["apiKey","onLoaded"])),a=function(){e.map=new window.google.maps.Map(e._mapRef.current,r),e.google=window.google,e._initSearchBox(),ne.a.invoke(e.props,"onLoaded")};window.google?a():(window.initMap=a,Fe()("".concat("https://maps.googleapis.com/maps/api/js","?").concat(t?"key=".concat(t):"","&callback=initMap&libraries=places")))}},{key:"componentDidUpdate",value:function(e){var n=Object(Ie.a)({},this.props),t=Object(Ie.a)({},e);this.map&&!ne.a.isEqual(n,t)&&this.map.setOptions(n)}},{key:"_initSearchBox",value:function(){this.searchBox=new this.google.maps.places.SearchBox(this._searchBoxRef.current),this.searchBox.addListener("places_changed",this._onSearchBoxPlacesChanged),this.map.controls[window.google.maps.ControlPosition.TOP_LEFT].push(this._searchBoxRef.current)}},{key:"_onSearchBoxPlacesChanged",value:function(){ne.a.invoke(this.props,"onSearchBoxPlacesChanged",this.searchBox.getPlaces())}},{key:"render",value:function(){var e=this.props.enableSearchBox;return u.a.createElement(qe,null,u.a.createElement(Ke,{type:"text",innerRef:this._searchBoxRef,enableSearchBox:e}),u.a.createElement(Je,{innerRef:this._mapRef}))}}]),n}(c.Component),Xe=(Qe=Ze,u.a.forwardRef(function(e,n){return u.a.createElement(Ge.Consumer,null,function(t){return u.a.createElement(Qe,Object.assign({ref:n,apiKey:t},e))})})),Ye=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._gmap=u.a.createRef(),t._pickedPlaces=[],t._mapLoaded=!1,t.onMapLoaded=t.onMapLoaded.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_removeMarkers",value:function(){ne.a.each(this._pickedPlaces,function(e){e.setMap(null)})}},{key:"onMapLoaded",value:function(){var e=this;this._mapLoaded=!0,this._gmap.current&&this.google.maps.event.addListener(this.map,"click",function(n){var t=new e.google.maps.Marker({position:n.latLng,map:e.map});ne.a.invoke(e.props,"onPickPlace",t),e._removeMarkers(),e._pickedPlaces.push(t)})}},{key:"componentDidMount",value:function(){this._mapLoaded&&this.onMapLoaded()}},{key:"render",value:function(){var e=this.props.mapOptions;return u.a.createElement(Xe,Object.assign({ref:this._gmap,onLoaded:this.onMapLoaded},e))}},{key:"map",get:function(){return this._gmap.current.map}},{key:"google",get:function(){return this._gmap.current.google}}]),n}(c.Component);function $e(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.6rem;\n  color: #212529;\n"]);return $e=function(){return e},e}function en(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.75rem;\n  font-size: 1.25rem;\n"]);return en=function(){return e},e}function nn(){var e=Object(he.a)(["\n  padding: 1.25rem;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n"]);return nn=function(){return e},e}var tn,rn=me.a.div(nn()),an=me.a.h3(en()),on=me.a.p($e()),cn=function(e){function n(){return Object(V.a)(this,n),Object(H.a)(this,Object(Q.a)(n).apply(this,arguments))}return Object(q.a)(n,e),Object(W.a)(n,[{key:"render",value:function(){var e=this.props,n=e.title,t=e.description,r=e.children,a=e.onPickPlace,o=e.mapOptions;return u.a.createElement(rn,null,u.a.createElement(an,null,n),u.a.createElement(on,null,t),u.a.createElement(Ye,{onPickPlace:a,mapOptions:o}),r)}}]),n}(c.Component),un=t(76);function ln(){var e=Object(he.a)(["\n  margin: 0;\n  color: #dc3545;\n"]);return ln=function(){return e},e}var sn=(tn={},Object(un.a)(tn,U.UNAVAILABLE,"Server unavailable now. Try again later."),Object(un.a)(tn,U.NOT_FOUND,"No route found. Try different origin or destination"),tn),dn=me.a.p(ln()),pn=function(e){return u.a.createElement(dn,null,sn[e.errorCode])};function fn(){var e=Object(he.a)([""]);return fn=function(){return e},e}function hn(){var e=Object(he.a)(["\n  margin-top: 0.6rem;\n"]);return hn=function(){return e},e}function mn(){var e=Object(he.a)([""]);return mn=function(){return e},e}function gn(){var e=Object(he.a)([""]);return gn=function(){return e},e}function bn(){var e=Object(he.a)(["\n  margin-top: 0.6rem;\n"]);return bn=function(){return e},e}function vn(){var e=Object(he.a)(["\n  margin-top: 1.25rem;\n\n  @media (min-width: 768px) {\n    width: 736px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]);return vn=function(){return e},e}var On=me.a.div(vn()),jn=me.a.div(bn()),En=Object(me.a)(je)(gn()),_n=Object(me.a)(je)(mn()),kn=me.a.div(hn()),yn=me.a.p(fn()),xn=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderStepButton=t._renderStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectOriginStep=t._renderSelectOriginStep.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectOriginStepButton=t._renderSelectOriginStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._onPickOrigin=t._onPickOrigin.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectDestinationStep=t._renderSelectDestinationStep.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectDestinationStepButton=t._renderSelectDestinationStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._onPickDestination=t._onPickDestination.bind(Object(fe.a)(Object(fe.a)(t))),t._onDoneSelection=t._onDoneSelection.bind(Object(fe.a)(Object(fe.a)(t))),t._renderError=t._renderError.bind(Object(fe.a)(Object(fe.a)(t))),t.state={selectedOrigin:null,selectedDestination:null},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderSelectOriginStep",value:function(e){var n=this,t=e.next,r=this.props,a=r.getString,o=r.mapOptions;return u.a.createElement(cn,{title:a("select_origin",null,"Select Origin"),description:a("please_select_origin",null,"Please select origin"),onPickPlace:this._onPickOrigin,mapOptions:o},this._renderStepButton(function(){return n._renderSelectOriginStepButton(t)}))}},{key:"_renderStepButton",value:function(e){return this.props.isFetching?u.a.createElement(re.Localized,{id:"loading"},u.a.createElement(yn,null,"loading...")):e()}},{key:"_renderSelectOriginStepButton",value:function(e){var n=!!this.state.selectedOrigin;return u.a.createElement(jn,null,u.a.createElement(re.Localized,{id:"next"},u.a.createElement(En,{disabled:!n,onClick:e},"Next")),this._renderError())}},{key:"_onPickOrigin",value:function(e){this.setState({selectedOrigin:e})}},{key:"_renderSelectDestinationStep",value:function(){var e=this,n=this.props,t=n.getString,r=n.mapOptions;return u.a.createElement(cn,{title:t("select_destination",null,"Select Destination"),description:t("please_select_destination",null,"Please select destination."),onPickPlace:this._onPickDestination,mapOptions:r},this._renderStepButton(function(){return e._renderSelectDestinationStepButton()}))}},{key:"_renderSelectDestinationStepButton",value:function(){var e=!!this.state.selectedDestination;return u.a.createElement(jn,null,u.a.createElement(re.Localized,{id:"done"},u.a.createElement(_n,{disabled:!e,onClick:this._onDoneSelection},"Done")),this._renderError())}},{key:"_onPickDestination",value:function(e){this.setState({selectedDestination:e})}},{key:"_onDoneSelection",value:function(){var e=ne.a.map([this.state.selectedOrigin,this.state.selectedDestination],function(e){var n=e.position;return{lat:n.lat(),lng:n.lng()}});ne.a.invoke.apply(ne.a,[this.props,"onDirectionSelected"].concat(Object(Ue.a)(e)))}},{key:"_renderError",value:function(){var e=this.props.errorCode;return e?u.a.createElement(kn,null,u.a.createElement(pn,{errorCode:e})):null}},{key:"render",value:function(){return u.a.createElement(On,null,u.a.createElement(Ae.Wizard,null,u.a.createElement(Ae.Steps,null,u.a.createElement(Ae.Step,{id:"selectOrigin",render:this._renderSelectOriginStep}),u.a.createElement(Ae.Step,{id:"selectDestination",render:this._renderSelectDestinationStep}))))}}]),n}(c.Component),Sn=Object(re.withLocalization)(xn),wn=t(106),Rn=t.n(wn),Pn=u.a.createContext();function Cn(){var e=Object(he.a)(["\n  max-width: 100%;\n  height: auto;\n"]);return Cn=function(){return e},e}var Ln=me.a.img(Cn()),Bn=function(e){var n=e.size,t=e.zoom,r=e.center,a=e.path,o=e.key_,i=e.markers,c={size:n,zoom:t,key:o};a&&(c.path="enc:".concat(a)),r&&(c.center="".concat(r.lat,",").concat(r.lng)),i&&(c.markers=function(e){var n=ne.a.chain(e).map(function(e){return"".concat(e.lat,",").concat(e.lng)}).join("|");return"|".concat(n)}(i));var l="https://maps.googleapis.com/maps/api/staticmap?"+Rn.a.stringify(c);return u.a.createElement(Ln,{src:l})};Bn.defaultProps={size:"320x300"};var Dn=function(e){return function(n){return u.a.createElement(Pn.Consumer,null,function(t){return u.a.createElement(e,Object.assign({key_:t},n))})}}(Bn);function Tn(){var e=Object(he.a)(["\n  max-width: 100%;\n  height: auto;\n"]);return Tn=function(){return e},e}var zn=me.a.img(Tn());function Un(){var e=Object(he.a)([""]);return Un=function(){return e},e}function An(){var e=Object(he.a)([""]);return An=function(){return e},e}function In(){var e=Object(he.a)(["\n  flex: 0 0 33%;\n  padding-left: 15px;\n  padding-right: 15px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return In=function(){return e},e}function Nn(){var e=Object(he.a)(["\n  display: flex;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  margin-left: 8px;\n  margin-right: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return Nn=function(){return e},e}var Mn=me.a.div(Nn()),Fn=me.a.div(In()),Gn=me.a.p(An()),Vn=me.a.p(Un()),Wn=function(e){var n=e.html_instructions,t=e.distance,r=e.location,a=e.image,o=e.overview_polyline;return u.a.createElement(Mn,null,u.a.createElement(Fn,null,u.a.createElement(Gn,{dangerouslySetInnerHTML:{__html:n}}),u.a.createElement(Vn,null,t)),u.a.createElement(Fn,null,u.a.createElement(Dn,{center:r,path:o,markers:[r],zoom:17})),u.a.createElement(Fn,null,u.a.createElement(zn,{src:a})))};function Hn(){var e=Object(he.a)(["\n  flex: 0 0 33%;\n  box-sizing: border-box;\n  margin-left: 4px;\n  margin-right: 4px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Hn=function(){return e},e}function Qn(){var e=Object(he.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  margin-left: 8px;\n  margin-right: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return Qn=function(){return e},e}var qn=me.a.div(Qn()),Jn=me.a.div(Hn()),Kn=function(e){var n=e.location,t=e.image;return u.a.createElement(qn,null,u.a.createElement(Jn,null,u.a.createElement(Dn,{center:n,markers:[n],zoom:16})),u.a.createElement(Jn,null,u.a.createElement(zn,{src:t})))};function Zn(){var e=Object(he.a)(["\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return Zn=function(){return e},e}function Xn(){var e=Object(he.a)(["\n  width: 210mm;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  padding: 12px;\n\n  @media screen {\n    box-shadow: 0 0.5mm 2mm rgba(0, 0, 0, 0.3);\n  }\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(he.a)(["\n  @media screen {\n    display: flex;\n    justify-content: center;\n    background-color: #e0e0e0;\n    padding-top: 32px;\n    padding-bottom: 32px;\n  }\n"]);return Yn=function(){return e},e}var $n=me.a.div(Yn()),et=me.a.div(Xn()),nt=me.a.h2(Zn()),tt=function(e){var n=e.overview,t=e.steps,r=e.parkings;return u.a.createElement($n,null,u.a.createElement(et,null,u.a.createElement(re.Localized,{id:"overview"},u.a.createElement(nt,null,"Overview")),u.a.createElement(Dn,{path:n.polyline.points}),u.a.createElement(re.Localized,{id:"steps"},u.a.createElement(nt,null,"Steps")),t.map(function(e,t){return u.a.createElement(Wn,Object.assign({key:t,overview_polyline:n.polyline.points},e))}),u.a.createElement(re.Localized,{id:"parkings"},u.a.createElement(nt,null,"Parkings")),r.map(function(e,n){return u.a.createElement(Kn,Object.assign({key:n},e))})))};function rt(){var e=Object(he.a)([""]);return rt=function(){return e},e}var at=me.a.div(rt()),ot=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderCurrentRoute=t._renderCurrentRoute.bind(Object(fe.a)(Object(fe.a)(t))),t._renderDirectionSelectWizard=t._renderDirectionSelectWizard.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderCurrentRoute",value:function(){var e=this.props.currentRoute;return e?u.a.createElement(tt,e):null}},{key:"_renderDirectionSelectWizard",value:function(){var e=this.props,n=e.currentRoute,t=e.currentGeolocation,r=e.isFetching,a=e.onDirectionSelected,o=e.onSearchBoxPlacesChanged,i=e.currentError;if(!n){var c={enableSearchBox:!0,onSearchBoxPlacesChanged:o,zoom:12,center:t};return u.a.createElement(Sn,{isFetching:r,onDirectionSelected:a,errorCode:i,mapOptions:c})}return null}},{key:"render",value:function(){return u.a.createElement(at,null,this._renderCurrentRoute(),this._renderDirectionSelectWizard())}}]),n}(c.Component);ot.defaultProps={isFetching:!1};var it=ot,ct=Object(l.b)(function(e){return{currentError:e.route.currentError,currentRoute:e.route.currentRoute,currentGeolocation:e.currentGeolocation,isFetching:e.route.isFetching}},function(e){return{onDirectionSelected:function(n,t){return e(r.fetchRoute(n,t))},onSearchBoxPlacesChanged:function(n){if(n){var t=n[0],r={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};e(a.setCurrentGeolocation(r))}}}})(it),ut=t(212),lt=t(219),st=t(107),dt=t.n(st);function pt(){var e=Object(he.a)(["\n  color: white;\n  text-transform: uppercase;\n  border: 2px solid;\n  padding: 0.375rem 0.75rem;\n  background-color: transparent;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 500;\n"]);return pt=function(){return e},e}function ft(){var e=Object(he.a)(["\n  height: calc(100vh - 58px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n\n  ::before {\n    content: '';\n    background-image: \n      linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,.8)), \n      url(",");\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    z-index: -1;\n    background-position: bottom;\n    background-size: cover;\n    animation: "," 4s cubic-bezier(.16,.85,.63,.81) forwards;\n  }\n\n  ::after {\n    content: '';\n    position: absolute;\n    left: -5%;\n    right: -5%;\n    top: 90%;\n    bottom: -50%;\n    background-color: white;\n    transform: rotateZ(-3deg);\n    transform-origin: 0 0;\n  }\n"]);return ft=function(){return e},e}function ht(){var e=Object(he.a)(["\n  from {\n    opacity: 0;\n    transform: translateY(-4rem);\n  }\n\n  to {\n    opacity: 1;\n    transform: none;\n  }\n"]);return ht=function(){return e},e}var mt=Object(me.b)(ht()),gt=me.a.div(ft(),dt.a,mt),bt=Object(me.a)(ut.a)(pt()),vt=Object(lt.a)(function(e){var n=e.match;return u.a.createElement(gt,null,u.a.createElement(re.Localized,{id:"start_explore"},u.a.createElement(bt,{to:"".concat(n.url,"/explore")},"Explore")))}),Ot=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderAppRoutes=t._renderAppRoutes.bind(Object(fe.a)(Object(fe.a)(t))),t._hasPreferLocales=t._hasPreferLocales.bind(Object(fe.a)(Object(fe.a)(t))),t.state={hasPreferLocales:t._hasPreferLocales()},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_hasPreferLocales",value:function(){return function(e){var n=Object(ae.negotiateLanguages)(e,ce);return!ne.a.isEmpty(ne.a.intersection(e,n))}([this.props.match.params.locale])}},{key:"_renderAppRoutes",value:function(){var e=this.props.match,t=[],r=!0,a=!1,o=void 0;try{for(var i,c=n.URLS[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,s=Object(pe.a)(l,2),d=s[0],p=s[1],f="".concat(e.url,"/").concat(d);t.push(u.a.createElement(Z.a,{key:f,exact:!0,path:f,component:p}))}}catch(h){a=!0,o=h}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}},{key:"componentDidUpdate",value:function(e){e.match.params.locale!==this.props.match.params.locale&&this.setState({hasPreferLocales:this._hasPreferLocales()})}},{key:"render",value:function(){if(!this.state.hasPreferLocales)return u.a.createElement(de,null);var e=this.props.match.params.locale;return u.a.createElement(se,{locale:e},u.a.createElement("div",null,u.a.createElement(ze,null),u.a.createElement(K.a,null,this._renderAppRoutes(),u.a.createElement(Z.a,{path:"/",component:de}))))}}]),n}(c.Component);Ot.URLS=[["explore",ct],["",vt]];var jt=Ot,Et=function(e){var n=e.host,t=e.siteId,r=void 0===t?"1":t;if(void 0!==window._paq)return null;var a="//".concat(n,"/"),o=[];o.push(["trackPageView"]),o.push(["enableLinkTracking"]),o.push(["setTrackerUrl","".concat(a,"piwik.php")]),o.push(["setSiteId",r]),window._paq=o;var i=document.createElement("script");return i.src="".concat(a,"piwik.js"),i.type="text/javascript",i.async=!0,i.defer=!0,document.head.appendChild(i),null};Et.propTypes={host:ve.a.string.isRequired,siteId:ve.a.string};var _t=Et,kt=function(e){function n(){return Object(V.a)(this,n),Object(H.a)(this,Object(Q.a)(n).apply(this,arguments))}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initialize)()}},{key:"render",value:function(){return u.a.createElement(J.a,{basename:"/travel_path_explorer"},u.a.createElement("div",null,u.a.createElement(K.a,null,u.a.createElement(Z.a,{path:"/:locale",component:jt}),u.a.createElement(Z.a,{path:"/",component:de})),u.a.createElement(_t,{host:"matomo.gyhost.icu"})))}}]),n}(c.Component),yt={initialize:a.fetchCurrentGeolocation},xt=Object(l.b)(null,yt)(kt),St=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function wt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}d.a.render(u.a.createElement(l.a,{store:G},u.a.createElement(Pn.Provider,{value:"AIzaSyAp7SJUJ5rXQQMItRV22paZEVsaRBcM_Vc"},u.a.createElement(Ge.Provider,{value:"AIzaSyAp7SJUJ5rXQQMItRV22paZEVsaRBcM_Vc"},u.a.createElement(xt,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/travel_path_explorer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/travel_path_explorer","/service-worker.js");St?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):wt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):wt(e)})}}()}},[[112,2,1]]]);
//# sourceMappingURL=main.c25d38c7.chunk.js.map