(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,n,t){e.exports=t(208)},185:function(e,n,t){},208:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"ROUTE_FETCH",function(){return h}),t.d(r,"ROUTE_REQUEST",function(){return m}),t.d(r,"ROUTE_RECEIVE",function(){return g}),t.d(r,"ERROR_RECEIVE",function(){return v}),t.d(r,"fetchRoute",function(){return b}),t.d(r,"requestRoute",function(){return O}),t.d(r,"receiveRoute",function(){return j}),t.d(r,"receiveError",function(){return E});var a={};t.r(a),t.d(a,"FETCH_GEOLOCATION",function(){return y}),t.d(a,"SET_CURRENT_GEOLOCATION",function(){return k}),t.d(a,"setCurrentGeolocation",function(){return x}),t.d(a,"fetchCurrentGeolocation",function(){return S});var o={};t.r(o),t.d(o,"findRoute",function(){return z}),t.d(o,"STATUS_CODE",function(){return U}),t.d(o,"formatLocation",function(){return A});var i={};t.r(i),t.d(i,"getGeolocation",function(){return I});var c=t(0),l=t.n(c),u=t(28),s=t(99),d=t.n(s),p=t(23),f=t(213),h="FETCH_ROUTE",m="REQUEST_ROUTE",g="RECEIVE_ROUTE",v="RECEIVE_ERROR",b=function(e,n){return{type:h,origin:e,destination:n}},O=function(){return{type:m}},j=function(e){return{type:g,route:e}},E=function(e){return{type:v,error:e}},_=Object(p.c)({currentError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return null;case v:return n.error;default:return e}},currentRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return null;case g:return n.route;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case m:return!0;case g:case v:return!1;default:return e}}}),y="FETCH_GEOLOCATION",k="SET_CURRENT_GEOLOCATION",x=function(e){return{type:k,geolocation:e}},S=function(){return{type:y}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k:return{lat:n.geolocation.lat,lng:n.geolocation.lng};default:return e}},R=Object(p.c)({route:_,currentGeolocation:w}),P=t(214),C=t(209),L=t(4),B=t(210),D=t(100),T=Object(D.create)({baseURL:"https://travel-path-explorer.gyhost.icu"}),z=function(e,n){return e=A(e),n=A(n),T.get("/explore",{origin:e,destination:n})},U={OK:"OK",UNAVAILABLE:"UNAVAILABLE",NOT_FOUND:"NOT_FOUND"},A=function(e){return"object"===typeof e?"".concat(e.lat,",").concat(e.lng):e},I=function(){return T.get("/geolocation")},N=Object(P.a)(function(e){return e.pipe(Object(C.a)(r.ROUTE_FETCH),Object(B.a)(function(e){return L.a.create(function(n){n.next(r.requestRoute()),o.findRoute(e.origin,e.destination).then(function(e){return e.ok?e.data.status!==o.STATUS_CODE.OK?(n.next(r.receiveError(e.data.status)),void n.complete()):void(e.data.route&&(n.next(r.receiveRoute(e.data.route)),n.complete())):(n.next(r.receiveError(o.STATUS_CODE.UNAVAILABLE)),void n.complete())})})}))}),M=Object(P.a)(function(e){return e.pipe(Object(C.a)(a.FETCH_GEOLOCATION),Object(B.a)(function(){return L.a.create(function(e){i.getGeolocation().then(function(n){if(n.ok){var t={lat:n.data.lat,lng:n.data.lng};e.next(a.setCurrentGeolocation(t)),e.complete()}})})}))}),F=Object(P.a)(N,M),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=Object(f.a)(),t=e?Object(p.d)(Object(p.a)(n),e):Object(p.a)(n),r=Object(p.e)(R,t);return n.run(F),r}(),V=(t(185),t(8)),W=t(9),H=t(11),Q=t(10),q=t(12),J=t(215),K=t(217),X=t(212),Z=t(216),$=t(37),Y=t.n($),ee=t(17),ne=t.n(ee),te=t(101),re=t(18),ae=t(73),oe=Y.a.mark(ue),ie={en:"\nhello = Hello\nloading = loading...\nstart_explore = start explore\nselect_origin = Select Origin\nplease_select_origin = Please select origin.\nnext = Next\nselect_destination = Select Destination\nplease_select_destination = Please select destination.\ndone = Done\noverview = Overview\nsteps = Steps\nparkings = Parkings\nprint = Print\n",zh:"\nhello = \u4f60\u597d\nloading = \u8f09\u5165\u4e2d...\nstart_explore = \u958b\u59cb\u63a2\u7d22\nselect_origin = \u51fa\u767c\u5730\nplease_select_origin = \u8acb\u9078\u64c7\u51fa\u767c\u5730\nnext = \u4e0b\u4e00\u6b65\nselect_destination = \u76ee\u7684\u5730\nplease_select_destination = \u8acb\u9078\u64c7\u76ee\u7684\u5730\ndone = \u5b8c\u6210\noverview = \u8def\u7dda\u5716\nsteps = \u8def\u7dda\u8a73\u7d30\u8cc7\u8a0a\nparkings = \u505c\u8eca\u5834\nprint = \u5217\u5370\n"},ce=["en","zh"],le=function(e){return Object(ae.negotiateLanguages)(e,ce,{defaultLocale:"en"})};function ue(e){var n,t,r,a,o,i,c,l;return Y.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=le(e),t=!0,r=!1,a=void 0,u.prev=4,o=n[Symbol.iterator]();case 6:if(t=(i=o.next()).done){u.next=15;break}return c=i.value,(l=new te.FluentBundle(c)).addMessages(ie[c]),u.next=12,l;case 12:t=!0,u.next=6;break;case 15:u.next=21;break;case 17:u.prev=17,u.t0=u.catch(4),r=!0,a=u.t0;case 21:u.prev=21,u.prev=22,t||null==o.return||o.return();case 24:if(u.prev=24,!r){u.next=27;break}throw a;case 27:return u.finish(24);case 28:return u.finish(21);case 29:case"end":return u.stop()}},oe,this,[[4,17,21,29],[22,,24,28]])}var se=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e))).state={bundles:t._generateBundles()},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidUpdate",value:function(e){e.locale!==this.props.locale&&this.setState({bundles:this._generateBundles()})}},{key:"_generateBundles",value:function(){return ue([this.props.locale])}},{key:"render",value:function(){var e=this.props.children,n=this.state.bundles;return l.a.createElement(re.LocalizationProvider,{bundles:n},e)}}]),n}(c.Component),de=function(){var e=le(navigator.languages)[0];return l.a.createElement(Z.a,{to:"/".concat(e)})},pe=t(109),fe=t(5),he=t(3),me=t(2),ge=t(104),ve=t(1),be=t.n(ve);function Oe(){var e=Object(he.a)(["\n  padding: 0.375rem 0.75rem;\n  background-color: transparent;\n  font-size: 1rem;\n  line-height: 1.5;\n  font-weight: 500;\n"]);return Oe=function(){return e},e}var je=me.a.button(Oe());function Ee(){var e=Object(he.a)(["\n    background-color: white;\n    display: ",";\n    \n    &:after {\n        content: '","'\n    }\n"]);return Ee=function(){return e},e}var _e=Object(re.withLocalization)(Object(me.a)(je).attrs({onClick:function(){return window.print}})(Ee(),function(e){return e.display?"block":"none"},function(e){return e.getString("print",null,"Print")}));_e.defaultProps={display:!0},_e.propTypes={display:be.a.bool};var ye=_e;function ke(){var e=Object(he.a)(["\n  text-decoration: none;\n  color: rgba(0, 0, 0, 0.5);\n\n  &:hover {\n    color: rgba(0, 0, 0, 0.7);\n  }\n"]);return ke=function(){return e},e}function xe(){var e=Object(he.a)(["\n  padding: 0 0.5rem;\n  color: rgba(0, 0, 0, 0.5);\n"]);return xe=function(){return e},e}function Se(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  list-style: none;\n\n  display: flex;\n  align-items: center;\n"]);return Se=function(){return e},e}function we(){var e=Object(he.a)(["\n  padding: 0 0.5rem;\n  margin: 0;\n  font-weight: 600;\n  font-size: 1.25rem;\n"]);return we=function(){return e},e}function Re(){var e=Object(he.a)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: #f8f9fa;\n  padding: 1rem 0.5rem;\n\n  flex-shrink: 0;\n  flex-grow: 0;\n\n  @media print {\n    display: none;\n  }\n"]);return Re=function(){return e},e}var Pe=me.a.div(Re()),Ce=me.a.h5(we()),Le=me.a.ol(Se()),Be=me.a.li(xe()),De=me.a.a(ke()),Te=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderPrintButton=t._renderPrintButton.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderPrintButton",value:function(){return this.props.displayPrintButton?l.a.createElement(Be,null,l.a.createElement(ye,null)):null}},{key:"render",value:function(){return l.a.createElement(Pe,null,l.a.createElement(Ce,null,"TravelPathExplorer"),l.a.createElement(Le,null,this._renderPrintButton(),l.a.createElement(Be,null,l.a.createElement(De,{href:"https:///www.github.com/gy-chen/travel_path_explorer"},l.a.createElement(ge.a,{size:24})))))}}]),n}(c.Component),ze=Object(u.b)(function(e){return{displayPrintButton:!!e.route.currentRoute}})(Te),Ue=t(108),Ae=t(39),Ie=t(75),Ne=t(110),Me=t(105),Fe=t.n(Me),Ge=l.a.createContext();function Ve(){var e=Object(he.a)(["\n  display: ",";\n"]);return Ve=function(){return e},e}function We(){var e=Object(he.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);return We=function(){return e},e}function He(){var e=Object(he.a)(['\n  position: relative;\n  width: 100%;\n\n  &::before {\n    display: block;\n    content: "";\n    padding-top: 56.25%;\n  }\n']);return He=function(){return e},e}var Qe,qe=me.a.div(He()),Je=me.a.div(We()),Ke=me.a.input(Ve(),function(e){return e.enableSearchBox?"inline-block":"none"}),Xe=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._searchBoxRef=l.a.createRef(),t._mapRef=l.a.createRef(),t.searchBox=null,t.map=null,t.google=null,t._initSearchBox=t._initSearchBox.bind(Object(fe.a)(Object(fe.a)(t))),t._onSearchBoxPlacesChanged=t._onSearchBoxPlacesChanged.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.apiKey,r=(n.onLoaded,Object(Ne.a)(n,["apiKey","onLoaded"])),a=function(){e.map=new window.google.maps.Map(e._mapRef.current,r),e.google=window.google,e._initSearchBox(),ne.a.invoke(e.props,"onLoaded")};window.google?a():(window.initMap=a,Fe()("".concat("https://maps.googleapis.com/maps/api/js","?").concat(t?"key=".concat(t):"","&callback=initMap&libraries=places")))}},{key:"componentDidUpdate",value:function(e){var n=Object(Ie.a)({},this.props),t=Object(Ie.a)({},e);this.map&&!ne.a.isEqual(n,t)&&this.map.setOptions(n)}},{key:"_initSearchBox",value:function(){this.searchBox=new this.google.maps.places.SearchBox(this._searchBoxRef.current),this.searchBox.addListener("places_changed",this._onSearchBoxPlacesChanged),this.map.controls[window.google.maps.ControlPosition.TOP_LEFT].push(this._searchBoxRef.current)}},{key:"_onSearchBoxPlacesChanged",value:function(){ne.a.invoke(this.props,"onSearchBoxPlacesChanged",this.searchBox.getPlaces())}},{key:"render",value:function(){var e=this.props.enableSearchBox;return l.a.createElement(qe,null,l.a.createElement(Ke,{type:"text",innerRef:this._searchBoxRef,enableSearchBox:e}),l.a.createElement(Je,{innerRef:this._mapRef}))}}]),n}(c.Component),Ze=(Qe=Xe,l.a.forwardRef(function(e,n){return l.a.createElement(Ge.Consumer,null,function(t){return l.a.createElement(Qe,Object.assign({ref:n,apiKey:t},e))})})),$e=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._gmap=l.a.createRef(),t._pickedPlaces=[],t._mapLoaded=!1,t.onMapLoaded=t.onMapLoaded.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_removeMarkers",value:function(){ne.a.each(this._pickedPlaces,function(e){e.setMap(null)})}},{key:"onMapLoaded",value:function(){var e=this;this._mapLoaded=!0,this._gmap.current&&this.google.maps.event.addListener(this.map,"click",function(n){var t=new e.google.maps.Marker({position:n.latLng,map:e.map});ne.a.invoke(e.props,"onPickPlace",t),e._removeMarkers(),e._pickedPlaces.push(t)})}},{key:"componentDidMount",value:function(){this._mapLoaded&&this.onMapLoaded()}},{key:"render",value:function(){var e=this.props.mapOptions;return l.a.createElement(Ze,Object.assign({ref:this._gmap,onLoaded:this.onMapLoaded},e))}},{key:"map",get:function(){return this._gmap.current.map}},{key:"google",get:function(){return this._gmap.current.google}}]),n}(c.Component);function Ye(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.6rem;\n  color: #212529;\n"]);return Ye=function(){return e},e}function en(){var e=Object(he.a)(["\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.75rem;\n  font-size: 1.25rem;\n"]);return en=function(){return e},e}function nn(){var e=Object(he.a)(["\n  padding: 1.25rem;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n"]);return nn=function(){return e},e}var tn,rn=me.a.div(nn()),an=me.a.h3(en()),on=me.a.p(Ye()),cn=function(e){function n(){return Object(V.a)(this,n),Object(H.a)(this,Object(Q.a)(n).apply(this,arguments))}return Object(q.a)(n,e),Object(W.a)(n,[{key:"render",value:function(){var e=this.props,n=e.title,t=e.description,r=e.children,a=e.onPickPlace,o=e.mapOptions;return l.a.createElement(rn,null,l.a.createElement(an,null,n),l.a.createElement(on,null,t),l.a.createElement($e,{onPickPlace:a,mapOptions:o}),r)}}]),n}(c.Component),ln=t(76);function un(){var e=Object(he.a)(["\n  margin: 0;\n  color: #dc3545;\n"]);return un=function(){return e},e}var sn=(tn={},Object(ln.a)(tn,U.UNAVAILABLE,"Server unavailable now. Try again later."),Object(ln.a)(tn,U.NOT_FOUND,"No route found. Try different origin or destination"),tn),dn=me.a.p(un()),pn=function(e){return l.a.createElement(dn,null,sn[e.errorCode])};function fn(){var e=Object(he.a)([""]);return fn=function(){return e},e}function hn(){var e=Object(he.a)(["\n  margin-top: 0.6rem;\n"]);return hn=function(){return e},e}function mn(){var e=Object(he.a)([""]);return mn=function(){return e},e}function gn(){var e=Object(he.a)([""]);return gn=function(){return e},e}function vn(){var e=Object(he.a)(["\n  margin-top: 0.6rem;\n"]);return vn=function(){return e},e}function bn(){var e=Object(he.a)(["\n  margin-top: 1.25rem;\n\n  @media (min-width: 768px) {\n    width: 736px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]);return bn=function(){return e},e}var On=me.a.div(bn()),jn=me.a.div(vn()),En=Object(me.a)(je)(gn()),_n=Object(me.a)(je)(mn()),yn=me.a.div(hn()),kn=me.a.p(fn()),xn=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderStepButton=t._renderStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectOriginStep=t._renderSelectOriginStep.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectOriginStepButton=t._renderSelectOriginStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._onPickOrigin=t._onPickOrigin.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectDestinationStep=t._renderSelectDestinationStep.bind(Object(fe.a)(Object(fe.a)(t))),t._renderSelectDestinationStepButton=t._renderSelectDestinationStepButton.bind(Object(fe.a)(Object(fe.a)(t))),t._onPickDestination=t._onPickDestination.bind(Object(fe.a)(Object(fe.a)(t))),t._onDoneSelection=t._onDoneSelection.bind(Object(fe.a)(Object(fe.a)(t))),t._renderError=t._renderError.bind(Object(fe.a)(Object(fe.a)(t))),t.state={selectedOrigin:null,selectedDestination:null},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderSelectOriginStep",value:function(e){var n=this,t=e.next,r=this.props,a=r.getString,o=r.mapOptions;return l.a.createElement(cn,{title:a("select_origin",null,"Select Origin"),description:a("please_select_origin",null,"Please select origin"),onPickPlace:this._onPickOrigin,mapOptions:o},this._renderStepButton(function(){return n._renderSelectOriginStepButton(t)}))}},{key:"_renderStepButton",value:function(e){return this.props.isFetching?l.a.createElement(re.Localized,{id:"loading"},l.a.createElement(kn,null,"loading...")):e()}},{key:"_renderSelectOriginStepButton",value:function(e){var n=!!this.state.selectedOrigin;return l.a.createElement(jn,null,l.a.createElement(re.Localized,{id:"next"},l.a.createElement(En,{disabled:!n,onClick:e},"Next")),this._renderError())}},{key:"_onPickOrigin",value:function(e){this.setState({selectedOrigin:e})}},{key:"_renderSelectDestinationStep",value:function(){var e=this,n=this.props,t=n.getString,r=n.mapOptions;return l.a.createElement(cn,{title:t("select_destination",null,"Select Destination"),description:t("please_select_destination",null,"Please select destination."),onPickPlace:this._onPickDestination,mapOptions:r},this._renderStepButton(function(){return e._renderSelectDestinationStepButton()}))}},{key:"_renderSelectDestinationStepButton",value:function(){var e=!!this.state.selectedDestination;return l.a.createElement(jn,null,l.a.createElement(re.Localized,{id:"done"},l.a.createElement(_n,{disabled:!e,onClick:this._onDoneSelection},"Done")),this._renderError())}},{key:"_onPickDestination",value:function(e){this.setState({selectedDestination:e})}},{key:"_onDoneSelection",value:function(){var e=ne.a.map([this.state.selectedOrigin,this.state.selectedDestination],function(e){var n=e.position;return{lat:n.lat(),lng:n.lng()}});ne.a.invoke.apply(ne.a,[this.props,"onDirectionSelected"].concat(Object(Ue.a)(e)))}},{key:"_renderError",value:function(){var e=this.props.errorCode;return e?l.a.createElement(yn,null,l.a.createElement(pn,{errorCode:e})):null}},{key:"render",value:function(){return l.a.createElement(On,null,l.a.createElement(Ae.Wizard,null,l.a.createElement(Ae.Steps,null,l.a.createElement(Ae.Step,{id:"selectOrigin",render:this._renderSelectOriginStep}),l.a.createElement(Ae.Step,{id:"selectDestination",render:this._renderSelectDestinationStep}))))}}]),n}(c.Component),Sn=Object(re.withLocalization)(xn),wn=t(106),Rn=t.n(wn),Pn=l.a.createContext();function Cn(){var e=Object(he.a)(["\n  max-width: 100%;\n  height: auto;\n"]);return Cn=function(){return e},e}var Ln=me.a.img(Cn()),Bn=function(e){var n=e.size,t=e.zoom,r=e.center,a=e.path,o=e.key_,i=e.markers,c={size:n,zoom:t,key:o};a&&(c.path="enc:".concat(a)),r&&(c.center="".concat(r.lat,",").concat(r.lng)),i&&(c.markers=function(e){var n=ne.a.chain(e).map(function(e){return"".concat(e.lat,",").concat(e.lng)}).join("|");return"|".concat(n)}(i));var u="https://maps.googleapis.com/maps/api/staticmap?"+Rn.a.stringify(c);return l.a.createElement(Ln,{src:u})};Bn.defaultProps={size:"320x300"};var Dn=function(e){return function(n){return l.a.createElement(Pn.Consumer,null,function(t){return l.a.createElement(e,Object.assign({key_:t},n))})}}(Bn);function Tn(){var e=Object(he.a)(["\n  max-width: 100%;\n  height: auto;\n"]);return Tn=function(){return e},e}var zn=me.a.img(Tn()),Un=function(e){var n=e.content;return l.a.createElement(zn,{src:"data:image/jpeg;base64,".concat(n)})};function An(){var e=Object(he.a)([""]);return An=function(){return e},e}function In(){var e=Object(he.a)([""]);return In=function(){return e},e}function Nn(){var e=Object(he.a)(["\n  flex: 0 0 33%;\n  padding-left: 15px;\n  padding-right: 15px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Nn=function(){return e},e}function Mn(){var e=Object(he.a)(["\n  display: flex;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  margin-left: 8px;\n  margin-right: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return Mn=function(){return e},e}var Fn=me.a.div(Mn()),Gn=me.a.div(Nn()),Vn=me.a.p(In()),Wn=me.a.p(An()),Hn=function(e){var n=e.html_instructions,t=e.distance,r=e.location,a=e.image,o=e.overview_polyline;return l.a.createElement(Fn,null,l.a.createElement(Gn,null,l.a.createElement(Vn,{dangerouslySetInnerHTML:{__html:n}}),l.a.createElement(Wn,null,t)),l.a.createElement(Gn,null,l.a.createElement(Dn,{center:r,path:o,markers:[r],zoom:17})),l.a.createElement(Gn,null,l.a.createElement(Un,{content:a})))};function Qn(){var e=Object(he.a)(["\n  flex: 0 0 33%;\n  box-sizing: border-box;\n  margin-left: 4px;\n  margin-right: 4px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Qn=function(){return e},e}function qn(){var e=Object(he.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  margin-left: 8px;\n  margin-right: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return qn=function(){return e},e}var Jn=me.a.div(qn()),Kn=me.a.div(Qn()),Xn=function(e){var n=e.location,t=e.image;return l.a.createElement(Jn,null,l.a.createElement(Kn,null,l.a.createElement(Dn,{center:n,markers:[n],zoom:16})),l.a.createElement(Kn,null,l.a.createElement(Un,{content:t})))};function Zn(){var e=Object(he.a)(["\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e0e0e0;\n"]);return Zn=function(){return e},e}function $n(){var e=Object(he.a)(["\n  width: 210mm;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  padding: 12px;\n\n  @media screen {\n    box-shadow: 0 0.5mm 2mm rgba(0, 0, 0, 0.3);\n  }\n"]);return $n=function(){return e},e}function Yn(){var e=Object(he.a)(["\n  @media screen {\n    display: flex;\n    justify-content: center;\n    background-color: #e0e0e0;\n    padding-top: 32px;\n    padding-bottom: 32px;\n  }\n"]);return Yn=function(){return e},e}var et=me.a.div(Yn()),nt=me.a.div($n()),tt=me.a.h2(Zn()),rt=function(e){var n=e.overview,t=e.steps,r=e.parkings;return l.a.createElement(et,null,l.a.createElement(nt,null,l.a.createElement(re.Localized,{id:"overview"},l.a.createElement(tt,null,"Overview")),l.a.createElement(Dn,{path:n.polyline.points}),l.a.createElement(re.Localized,{id:"steps"},l.a.createElement(tt,null,"Steps")),t.map(function(e,t){return l.a.createElement(Hn,Object.assign({key:t,overview_polyline:n.polyline.points},e))}),l.a.createElement(re.Localized,{id:"parkings"},l.a.createElement(tt,null,"Parkings")),r.map(function(e,n){return l.a.createElement(Xn,Object.assign({key:n},e))})))};function at(){var e=Object(he.a)([""]);return at=function(){return e},e}var ot=me.a.div(at()),it=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderCurrentRoute=t._renderCurrentRoute.bind(Object(fe.a)(Object(fe.a)(t))),t._renderDirectionSelectWizard=t._renderDirectionSelectWizard.bind(Object(fe.a)(Object(fe.a)(t))),t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_renderCurrentRoute",value:function(){var e=this.props.currentRoute;return e?l.a.createElement(rt,e):null}},{key:"_renderDirectionSelectWizard",value:function(){var e=this.props,n=e.currentRoute,t=e.currentGeolocation,r=e.isFetching,a=e.onDirectionSelected,o=e.onSearchBoxPlacesChanged,i=e.currentError;if(!n){var c={enableSearchBox:!0,onSearchBoxPlacesChanged:o,zoom:12,center:t};return l.a.createElement(Sn,{isFetching:r,onDirectionSelected:a,errorCode:i,mapOptions:c})}return null}},{key:"render",value:function(){return l.a.createElement(ot,null,this._renderCurrentRoute(),this._renderDirectionSelectWizard())}}]),n}(c.Component);it.defaultProps={isFetching:!1};var ct=it,lt=Object(u.b)(function(e){return{currentError:e.route.currentError,currentRoute:e.route.currentRoute,currentGeolocation:e.currentGeolocation,isFetching:e.route.isFetching}},function(e){return{onDirectionSelected:function(n,t){return e(r.fetchRoute(n,t))},onSearchBoxPlacesChanged:function(n){if(n){var t=n[0],r={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};e(a.setCurrentGeolocation(r))}}}})(ct),ut=t(211),st=t(218);function dt(){var e=Object(he.a)([""]);return dt=function(){return e},e}function pt(){var e=Object(he.a)(["\n  height: calc(100vh - 58px);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return pt=function(){return e},e}var ft=me.a.div(pt()),ht=me.a.div(dt()),mt=Object(st.a)(function(e){var n=e.match;return l.a.createElement(ft,null,l.a.createElement(ht,null,l.a.createElement("h1",null,"Intro"),l.a.createElement(re.Localized,{id:"start_explore"},l.a.createElement(ut.a,{to:"".concat(n.url,"/explore")},"start explore"))))}),gt=function(e){function n(e){var t;return Object(V.a)(this,n),(t=Object(H.a)(this,Object(Q.a)(n).call(this,e)))._renderAppRoutes=t._renderAppRoutes.bind(Object(fe.a)(Object(fe.a)(t))),t._hasPreferLocales=t._hasPreferLocales.bind(Object(fe.a)(Object(fe.a)(t))),t.state={hasPreferLocales:t._hasPreferLocales()},t}return Object(q.a)(n,e),Object(W.a)(n,[{key:"_hasPreferLocales",value:function(){return function(e){var n=Object(ae.negotiateLanguages)(e,ce);return!ne.a.isEmpty(ne.a.intersection(e,n))}([this.props.match.params.locale])}},{key:"_renderAppRoutes",value:function(){var e=this.props.match,t=[],r=!0,a=!1,o=void 0;try{for(var i,c=n.URLS[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value,s=Object(pe.a)(u,2),d=s[0],p=s[1],f="".concat(e.url,"/").concat(d);t.push(l.a.createElement(X.a,{key:f,exact:!0,path:f,component:p}))}}catch(h){a=!0,o=h}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}},{key:"componentDidUpdate",value:function(e){e.match.params.locale!==this.props.match.params.locale&&this.setState({hasPreferLocales:this._hasPreferLocales()})}},{key:"render",value:function(){if(!this.state.hasPreferLocales)return l.a.createElement(de,null);var e=this.props.match.params.locale;return l.a.createElement(se,{locale:e},l.a.createElement("div",null,l.a.createElement(ze,null),l.a.createElement(K.a,null,this._renderAppRoutes(),l.a.createElement(X.a,{path:"/",component:de}))))}}]),n}(c.Component);gt.URLS=[["explore",lt],["",mt]];var vt=gt,bt=function(e){var n=e.host,t=e.siteId,r=void 0===t?"1":t;if(void 0!==window._paq)return null;var a="//".concat(n,"/"),o=[];o.push(["trackPageView"]),o.push(["enableLinkTracking"]),o.push(["setTrackerUrl","".concat(a,"piwik.php")]),o.push(["setSiteId",r]),window._paq=o;var i=document.createElement("script");return i.src="".concat(a,"piwik.js"),i.type="text/javascript",i.async=!0,i.defer=!0,document.head.appendChild(i),null};bt.propTypes={host:be.a.string.isRequired,siteId:be.a.string};var Ot=bt,jt=function(e){function n(){return Object(V.a)(this,n),Object(H.a)(this,Object(Q.a)(n).apply(this,arguments))}return Object(q.a)(n,e),Object(W.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initialize)()}},{key:"render",value:function(){return l.a.createElement(J.a,null,l.a.createElement("div",null,l.a.createElement(K.a,null,l.a.createElement(X.a,{path:"/:locale",component:vt}),l.a.createElement(X.a,{path:"/",component:de})),l.a.createElement(Ot,{host:"matomo.gyhost.icu"})))}}]),n}(c.Component),Et={initialize:a.fetchCurrentGeolocation},_t=Object(u.b)(null,Et)(jt),yt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}d.a.render(l.a.createElement(u.a,{store:G},l.a.createElement(Pn.Provider,{value:"AIzaSyAp7SJUJ5rXQQMItRV22paZEVsaRBcM_Vc"},l.a.createElement(Ge.Provider,{value:"AIzaSyAp7SJUJ5rXQQMItRV22paZEVsaRBcM_Vc"},l.a.createElement(_t,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/travel_path_explorer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/travel_path_explorer","/service-worker.js");yt?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):kt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):kt(e)})}}()}},[[111,2,1]]]);
//# sourceMappingURL=main.38ca9975.chunk.js.map